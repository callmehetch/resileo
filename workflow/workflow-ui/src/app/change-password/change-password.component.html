<app-header></app-header>
<!-- Loader section -->
<div *ngIf="isLoading" fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="10px" class="apdmodal" style="display:block; ">
    <mat-progress-spinner  color='primary' mode="indeterminate" value="50"></mat-progress-spinner>
</div>
<!--Projects Grid-->
<div fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="center start"  [style.max-height.px] = "screenParam.height" class="mgntop10">
    <mat-card fxFlex="95" fxFlex.md="95" fxFlex.sm="100" fxFlex.xs="100"> 
        <mat-card-header>
            <div id="change-password-form" fxFlex="85" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
                <div fxFlex="80" fxLayout="row" fxLayoutGap="20px">
                    <mat-icon class="pointer" color="warn" matToolTip="Back" (click)="goBack()">backspace</mat-icon>
                    <div mat-card-avatar><mat-icon color="primary">assignment</mat-icon></div>
                    <mat-card-title style="margin-top:4px!important;">{{cardTitle}}</mat-card-title>
                </div>
			</div>
        </mat-card-header>
        <mat-card-content fxLayout="row wrap" fxLayoutAlign="center start">
            <div fxFlex="40" >
				<form [formGroup]="form" (submit)="changePassword()">
					<div mat-dialog-content>
						<div>
							<div fxLayout="column" fxLayoutAlign="start strech" fxLayoutGap="10px">
								<mat-form-field >
									<input matInput placeholder="Current Password" formControlName="FormCurrentPassword" [type]="hide ? 'password' : 'text'" name="FormCurrentPassword" id="FormCurrentPassword" required>
									<span mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide" class="pointer" >
									  <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
									</span>
								</mat-form-field>
								<mat-form-field>
									<input matInput placeholder="New Password" formControlName="FormNewPassword" [type]="hide ? 'password' : 'text'" name="FormNewPassword" id="FormNewPassword" required>
									<span mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide confirm password'" [attr.aria-pressed]="hide" class="pointer" >
									  <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
									</span>
								</mat-form-field>
								<mat-form-field>
									<input matInput placeholder="Confirm Password" formControlName="FormConfirmPassword" [type]="hide ? 'password' : 'text'" name="FormConfirmPassword" id="FormConfirmPassword" required>
									<span mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide confirm password'" [attr.aria-pressed]="hide" class="pointer" >
									  <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
									</span>
								</mat-form-field>
							</div>
						</div>
					</div>
					<div mat-dialog-actions fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px" class="mgnbtm20">
						<button type="button" mat-raised-button color="accent" (click)="reset()">Reset</button>
						<button *ngIf="!isLoading && form.valid" type="submit" color="primary" mat-raised-button>Save</button>
					</div>
					<div mat-dialog-actions fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px" class="mgnbtm20">
						<mat-label fxLayout="row" class="clrred">{{getErrorMessage(form,'form')}}</mat-label>
					</div>
				</form>
            </div>
            <div fxFlex="15" fxLayoutAlign="end">
            </div>
         </mat-card-content>
    </mat-card>
</div>
